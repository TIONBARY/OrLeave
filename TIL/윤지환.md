## 0718 TIL

### Git Flow

* Git Flow : Git branch 관리 전략
* Master(Main) (- Release) - Dev - FE&BE - feature로 branch를 뻗어나간다.
  * Master : 완성된 프로젝트로 배포가 가능한 상태여야 한다.
  * Dev : 개발된 프로젝트가 모이는 branch
  * feature : 각 기능별로 프로젝트를 구현하는 branch
  * Master branch로는 Merge Request만 가능
  * FE&BE가 feature branch에서 나뉘는 경우도 있다.

### 프로젝트 설계

* 로고 제작
* 주말 동안 조사한 레퍼런스 발표
  * 데이팅 앱, 화상 채팅 앱 등을 조사해 각 앱의 장점, 단점, 특징 회의
  * 여러 앱의 특징을 바탕으로 프로젝트에 추가할 기능 구상
* 와이어프레임 설계
  * 메인페이지, 로그인, 회원가입, 개인정보 수정, 커뮤니티, 화상채팅 페이지 등을 생성 및 수정

## 0719 TIL

### Springboot JPA

* JPA에서 구현해야 하는 것
  * @Entity
  * JpaRepository
* @Entity
  * @Column(columnDefinition = "INT UNSIGNED")하면 성능 향상 가능
  * 다중성, 방향성, 연관관계의 주인
  * 다중성
    * 일대일 : @OneToOne
    * 일대다 : @OneToMany
    * 다대일 : @ManyToOne
    * 다대다 : @ManyToMany
  * 방향성
    * @JoinColumn
  * 연관 관계의 주인
    * @OneToMany(mappedBy = "boardFk")
    * FK 키 관리 주인을 설정
    * 다 쪽이 주인
    * @MnayToOne은 항상 주인이다.
* JpaRepository
  * Method 이름으로 CRUD 작업 가능
  * Read : find****로 시작
  * Delete : delete**** 로 시작
  * Create : save
  * Update : 객체 조회 후 값 변경 그리고 다시 save

### 프로젝트 설계

* 이전에 조사한 레퍼런스를 바탕으로 세부 기능 수정 및 추가
  * 맞춤 매칭 방식 : 음주, 흡연 여부, 거리와 MBTI에 따른 우선순위 부여 등
  * 차단 기능
  * 프로필 이미지 추가 : 자신을 표현할 수 있는 이미지를 선택
* 와이어프레임 세부 설계
  * 각 팀원이 다른 페이지를 맡아 구체적인 레이아웃 설계
  * 회원관리 페이지 담당함
* 스토리보드 설계
  * 회원이 실제 페이지 이용 시 어떤 flow를 통해 서비스를 이용할지 생각하고, 이를 바탕으로 스토리보드 구상

## 0720 TIL

### REST API

* REST API의 정의
  * HTTP URI를 통해 자원을 명시하고 HTTP Method를 통해 해당 자원에 대한 CRUD Operation을 수행하는 것
* 표준이 존재하지 않아 프로젝트마다 다르지만, 요즘에는 보통 규격이 존재한다.
* 구성 요소
  * 자원 : URI
  * 행위 : Method
    * READ : GET
    * INSERT : POST
    * UPDATE : PUT
    * DELETE : DELETE
  * 표현 : JSON, XML 등
* REST API의 특징
  * 캐시 처리 기능
  * Stateless

|        | 기능 | HTTP Method | Parameter in message body |  Key |
|:------:|:----:|:-----------:|:-------------------------:|:----:|
|  Read  | 조회 |     GET     |         X(Option)         | Y\|N |
| Create | 생성 |     POST    |         Mandatory         |   N  |
| Update | 수정 |     PUT     |         Mandatory         |   Y  |
| Delete | 삭제 |    DELETE   |         X(Option)         |   Y  |

### 프로젝트 설계

* 유튜브의 블라인드 소개팅 레퍼런스 조사
  * 블라인드 소개팅의 특징 탐색
* 스타일 가이드 제작
* 프로젝트 와이어프레임 추가 수정
* 기능 명세서 구상

## 0721 TIL

### 정규표현식

* 정규표현식의 정의
  * 문자열의 일정한 패턴을 표현하는 일종의 형식 언어
* 정규식을 사용하는 이유
  * 전화번호, id, 주소, 이메일 등을 사용자로부터 받으면 그 값이 유효한지 검사하기 위함
* regexr.com을 통해 검증 가능
* 예 : 전화번호를 위한 정규표현식
```
^01([0|1|6|7|8|9])-?([0-9]{3,4})-?([0-9]{4})$"
```

### 프로젝트 설계

* 기능명세서 작성
  * 각 팀원이 화면에 따라 기능명세서 작성
  * 회원관리 화면의 기능명세서 작성
* DB테이블 설계
  * 기능명세서에 따른 DB테이블 설계
  * 1:n, m:n 관계 구분에 유의해야 한다.

## 0722 TIL

### RDBMS 설계 방법

* 데이터베이스에 대한 사용자의 요구사항을 수집하고 분석해서 요구사항(기능) 명세서를 작성
* 작성한 요구사항 명세서에서 데이터베이스를 구성하는데 필요한 개체, 속성, 개체 간의 관계를 추출하여 ERD를 생성
  * 개체와 속성을 추출한다.
    * 대부분 명사로 선별
  * 개체 간의 관계를 추출한다.
    * 대부분 동사로 선별한다.(개체간의 관계를 나타내는 동사여야 한다.)
    * 관계에 속한 속성도 있을 수 있다.
    * 필수적인 참여, 선택적인 참여
    * 1:1, 1:N, 1:M
* 요구사항에서 개체는 대부분 명사로 이루어져 있지만, 속성과 구별하여 추출한다.
* 개체 간의 관계는 여러가지로 분류해서 정의된다.
* 개념 설계 기반으로 ERD 생성
* 논리적 설계
  * 모든 개체는 릴레이션으로 변환
  * N:M 관계는 릴레이션으로 변환
  * 1:N 관계는 외래키로 표현
  * 1:1 관계는 외래키로 표현
  * 다중값 속성은 독립 릴레이션으로 표현
* 물리적 스키마 및 구현
  * ERD를 실제 테이블로 생성한다.
* 반정규화
  * 정규화된 엔티티타입, 속성, 관계를 시스템의 성능향상, 개발과 운영의 단순화를 위해 모델을 통합하는 프로세스
* 테이블 반정규화 방법
  * 1:1 관계의 테이블 병합
  * 1:N 관계의 테이블 병합
  * 수퍼/서브 타입 테이블 병합
  * 수직 분할(집중화된 일부 컬럼을 분리)
  * 수평 분할(행으로 구분하여 구간별 분리)
  * 테이블 추가(중복테이블, 통계테이블, 이력케이블, 부분테이블)
* 컬럼 반정규화
  * 중복컬럼 추가(자주 조회하는 컬럼이 있는 경우)
  * 파생 컬럼 추가(미리 계산한 값)
  * PK에 의한 컬럼 추가
  * 응용시스템 오작동을 위한 컬럼 추가(이전데이터 임시 보관)
* 관계 반정규화
  * 중복 관계 추가(이미 A테이블에서 C테이블의 정보를 읽을 수 있는 관계가 있음에도 관계를 중복하여 조회 경로를 단축)

### 프로젝트 설계

* ERD 다이어그램 작성
  * MySQL Workbench에서 작성
* API 명세서 작성
  * 회원관리, 공지사항, 1:1문의, 미팅룸, 관리자 페이지로 나누어 작성
  * 각 기능에 대한 HTTP method, HTTP url만 표시하고 Request Body, Response Body는 차주에 진행 예정

## 0725 TIL

* 요구사항 명세서 작성
  * 기능 명세서에 추가로 사용자가 해당 기능을 정상적으로 사용하기 위해 필요한 요구사항을 분석하여 작성
  * 팀원끼리 나누어 메인화면, 회원관리, 미팅룸, 게시판, 관리자 화면 등 화면별로 요구사항 명세서 작성
  * 메인화면 요구사항 명세서 작성
* 기술스택 설정 통일 및 정리
  * 개발 시작 전 기술스택 설정이 일치하는지 확인
  * MySQL 버전이 일치하지 않아 재설치
* API 명세서 추가 작성
  * request response 예시 작성
  * 팀원끼리 나누어 메인화면, 회원관리, 미팅룸, 게시판, 관리자 화면 등 화면별로 API 명세서 작성
* ERD 일부 수정
  * 1:N 관계는 한 테이블의 하나의 레코드가 다른 테이블의 여러 레코드에 대응됨을 의미한다.
  * 따라서 두 테이블 사이에는 하나의 관계만 존재해야 한다.
* 팀미팅 피드백
  * 본인인증은 보통 유료인 경우가 많아서 단순 휴대폰 인증이나 이메일 인증으로 하는 것이 좋다.
    * 이메일 인증으로 변경
  * 모자이크나 음성 변조 API를 찾아야 한다.
  * 관리자 전용 페이지를 만드는 것이 보안 면에서 좋다.
    * 관리자 전용 페이지를 만들기로 결정
  * 사용자의 기본 키를 요구하는 API의 경우 로그인된 상태라면 토큰을 항상 헤더에 가지고 있기 때문에 굳이 url에 기본 키를 같이 전달할 필요가 없다.
    * API url에서 기본 키 제거

## 0726 TIL

### 프로젝트 설계

* 와이어프레임 수정
  * 어제 받은 피드백을 바탕으로 관리자 페이지 별도로 생성
  * 회원가입 시 받는 입력 변경 
* ERD 수정
  * 입력으로 받는 회원정보의 변경에 따라 USER 테이블 일부 수정
  * 로그인 실패 시 일정 시간 로그인 제한을 위해 LOGIN_TRIAL 테이블 추가
* 기능 명세서 및 API 명세서 수정
  * 일부 API의 request, response를 ERD 내용에 맞게 수정
  * 관리자와 관련된 기능을 분리
  * 로그인 5회 실패 시 3분 동안 로그인 제한 기능 추가

## 0727 TIL

### 프로젝트 설계

* 파일트리 작성
  * 백엔드 폴더 구조 작성
  * 파일 이름은 형식만 정하고 추후에 기능별로 추가하기로 함

### 회원가입 기능 개발

* 스켈레톤 코드를 현재 폴더 구조에 맞게 위치 이동
* Entity 작성
  * User Entity 생성
  * User Entity에 일반 필드 추가(관계와 관련된 필드는 추후 추가 예정)
  * 생년월일 필드를 하나로 합침
* Git 명령어
  * git branch (새_브랜치_이름) (기존_브랜치_이름) : 기존 브랜치에서 분기하는 새 브랜치 추가
  * git checkout (브랜치_이름) : 브랜치로 이동
  * git push origin (브랜치_이름) : origin 위치로 브랜치에 push
  * git pull origin (브랜치_이름) : origin 위치에서 브랜치로부터 pull
* Entity의 필드의 타입으로 UNSIGNED INT를 지정하고 싶다면 @Column 어노테이션의 속성으로 columnDefinition="INT UNSIGNED"를 추가한다.
* application.properties에 중요 정보가 있는 경우
  * 중요 정보를 따로 빼내서 application-(name).properties에 추가하고 해당 파일은 .gitignore에 추가한다.
* .gitignore는 반드시 프로젝트의 최상단에 위치해야 git이 .gitignore를 정상적으로 인식한다.

## 0728 TIL

### 발표 준비

* 발표 자료 정리
  * 기획, 설계 문서 정리
  * 발표 PPT 내용 작성
  * 내일 발표 PPT 디자인 예정

### 회원가입 기능 개발

* 회원가입에 필요한 Repository 생성
  * 어제 만든 Entity에 대한 JpaRepository 생성
* 회원가입 requestDto 수정
  * 회원가입에 필요한 필드 추가
* 회원가입 기능 추가
  * swagger-ui를 통한 테스트 결과 정상 작동함